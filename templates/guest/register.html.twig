{% extends 'guest/base.html.twig' %}

{% block metatitle %}
    WhereIsFlorie | Créer un compte
{% endblock metatitle %}

{% block main %}
<div class="login-hero">
  <div class="login-form-container">
    <h1>Créer un compte sur WhereIsFlorie</h1>

    <form class="login-form" method="POST" action="{{ path('register') }}">
      <label for="email">Email</label>
      <input type="email" id="email" name="email" value="{{ existing_email ?? '' }}" required>

      <label for="password">Mot de passe</label>
      <input type="password" id="password" name="password" required>

      <button type="submit">Créer un compte</button>
    </form>

    {% for message in app.flashes('success') %}
      <div class="flash-success">
        {{ message }}
      </div>
    {% endfor %}

    {% for message in app.flashes('error') %}
      <div class="flash-error">
        {{ message }}
      </div>
    {% endfor %}

    {% if existing_email is defined %}
      <div class="already-registered">
        <p>Un compte avec l'email <strong>{{ existing_email }}</strong> existe déjà.</p>
        <a href="{{ path('login') }}">
          <button type="button">Se connecter</button>
        </a>
      </div>
    {% endif %}
  </div>
</div>
{% endblock main %}
