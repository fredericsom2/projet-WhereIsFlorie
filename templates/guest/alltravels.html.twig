{% extends 'guest/base.html.twig' %}

{% block metatitle %}Toutes les expériences de voyage{% endblock %}

{% block body %}
<div class="travel-experiences-page">
  <h1 class="travel-page-title">Expériences de voyage</h1>

  <form method="get" action="{{ path('alltravels') }}" class="travel-search-form">
    <input type="text" name="search" value="{{ search }}" placeholder="Rechercher une expérience..." />
    <button type="submit">Rechercher</button>
  </form>

  {% if search %}
    <p>Résultats pour : <strong>{{ search }}</strong></p>
  {% endif %}

  <p>{{ experiences|length }} expérience(s) trouvée(s).</p>

  <div class="travel-experience-list">
    {% for experience in experiences %}
      <div class="travel-experience-card">
        <h2>{{ experience.title }}</h2>
        <p>{{ experience.description|striptags|slice(0, 200) }}...</p>
        <a href="{{ path('experience_show', { id: experience.id }) }}" class="travel-see-more">Voir plus</a>
      </div>
    {% else %}
      <p>Aucune expérience trouvée.</p>
    {% endfor %}
  </div>
</div>
{% endblock %}
