{% extends 'guest/base.html.twig' %}

{% block metatitle %}
    WhereIsFlorie | Connexion
{% endblock metatitle %}

{% block main %}
<div class="login-hero">
  <div class="login-form-container">
    <h1>Se connecter à WhereIsFlorie</h1>

    <form class="login-form" method="POST" action="{{ path('login') }}">
      <label for="email">Email</label>
      <input type="email" id="email" name="_username" value="{{ last_username }}" required>

      <label for="password">Mot de passe</label>
      <input type="password" id="password" name="_password" required>

      <button type="submit">Se connecter</button>
    </form>

    {% if error %}
      <div class="flash-error">
        {{ error.messageKey|trans(error.messageData, 'security') }}
      </div>
    {% endif %}

    {% for message in app.flashes('success') %}
      <div class="flash-success">
        {{ message }}
      </div>
    {% endfor %}

    <p>Pas encore de compte ?
      <a href="{{ path('register') }}">Créer un compte</a>
    </p>
  </div>
</div>
{% endblock main %}
